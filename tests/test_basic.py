# tests/test_basic.py

def test_home(client):
    """
    Проверяет, что главная страница загружается успешно (статус 200)
    и содержит правильный заголовок в теге <title>.
    """
    # Отправляем GET-запрос на главную страницу
    response = client.get("/")

    # 1. Проверяем, что сервер ответил "200 OK"
    assert response.status_code == 200

    # 2. Проверяем, что в HTML-коде ответа содержится текст "Мой блог"
    #    (который должен быть в <title> вашего шаблона index.html)
    #    response.data - это байты, поэтому мы декодируем их в строку.
    assert "Мой блог" in response.data.decode('utf-8')